import{i as w,_ as Ee}from"../chunks/Qb8fxXOF.js";import"../chunks/DsnmJJEf.js";import{i as Ae}from"../chunks/Du94JHiY.js";import{o as Ie,h as Be,s as p}from"../chunks/Dzox3zOy.js";import{a7 as Ve,ah as Oe,ai as Ce,a8 as d,a as l,aa as Re,a9 as x,g as e,m as F,b as R,u as r,ae as Je,ab as t,ac as a,c as me,f as le,af as Ne,ad as o}from"../chunks/QwHnji2K.js";import{e as z,i as E,s as K}from"../chunks/BcP3FYvT.js";import{s as Ge,a as He}from"../chunks/D_7eiSL7.js";import{s as qe}from"../chunks/CWR2WOqt.js";import{b as Fe}from"../chunks/BA_rw5nU.js";const Ke=!0;async function Qe(){return["tokyo","fuji","hakone","kyoto","nara","osaka","hiroshima","kanazawa"].map(J=>({id:J}))}const xa=Object.freeze(Object.defineProperty({__proto__:null,entries:Qe,prerender:Ke},Symbol.toStringTag,{value:"Module"})),Ue=()=>{const M=qe;return{page:{subscribe:M.page.subscribe},navigating:{subscribe:M.navigating.subscribe},updated:M.updated}},We={subscribe(M){return Ue().page.subscribe(M)}};var Xe=d('<div class="loading svelte-1ychebp"><h2>Loading place information...</h2></div>'),Ye=d('<div class="error svelte-1ychebp"><h2> </h2> <a href="/" class="back-link svelte-1ychebp">← Return to main page</a></div>'),Ze=d('<li class="svelte-1ychebp"><a target="_blank" rel="noopener noreferrer" class="svelte-1ychebp"> </a></li>'),ea=d('<div class="photo-spots svelte-1ychebp"><h4 class="svelte-1ychebp">📸 Best Photo Spots:</h4> <ul class="svelte-1ychebp"></ul></div>'),aa=d('<a target="_blank" rel="noopener noreferrer" class="resource-link svelte-1ychebp"> </a>'),sa=d('<div class="resources svelte-1ychebp"><h4 class="svelte-1ychebp">🔗 Resources:</h4> <div class="resource-links svelte-1ychebp"></div></div>'),ta=d('<div class="activity-card svelte-1ychebp"><div class="activity-header svelte-1ychebp"><h3 class="svelte-1ychebp"><span class="activity-number svelte-1ychebp"></span> </h3> <div class="activity-meta svelte-1ychebp"><span class="cost"> </span> <span class="duration"> </span></div></div> <p class="activity-description svelte-1ychebp"> </p> <!> <!></div>'),ra=d('<li class="svelte-1ychebp"><strong> </strong> <a target="_blank" rel="noopener noreferrer" class="svelte-1ychebp">Learn more ↗</a></li>'),oa=d('<a target="_blank" rel="noopener noreferrer" class="svelte-1ychebp">More info ↗</a>'),ia=d('<li class="svelte-1ychebp"><strong> </strong> <!></li>'),na=d('<div class="info-card svelte-1ychebp"><h3 class="svelte-1ychebp">📅 Best Time to Visit</h3> <ul class="svelte-1ychebp"></ul></div>'),la=d('<li class="svelte-1ychebp"> </li>'),ca=d('<div class="info-card svelte-1ychebp"><h3 class="svelte-1ychebp">⚠️ Safety Tips</h3> <ul class="svelte-1ychebp"></ul></div>'),va=d('<div class="additional-info svelte-1ychebp"><div class="info-card svelte-1ychebp"><h3 class="svelte-1ychebp">🚇 Transportation</h3> <ul class="svelte-1ychebp"></ul></div> <!> <!></div>'),da=d('<header class="place-header svelte-1ychebp"><div class="header-content"><a href="/" class="back-link svelte-1ychebp">← Back to Journey</a> <div class="place-title svelte-1ychebp"><h1 class="svelte-1ychebp"><span class="place-icon svelte-1ychebp"> </span> </h1> <p class="place-description svelte-1ychebp"> </p></div></div></header> <div class="place-content svelte-1ychebp"><div class="map-section svelte-1ychebp"><h2 class="section-title svelte-1ychebp">📍 Location & Activities</h2> <div id="place-map"></div> <div class="map-legend svelte-1ychebp"><div class="legend-item svelte-1ychebp"><div class="legend-marker main svelte-1ychebp"></div> <span>Main Location</span></div> <div class="legend-item svelte-1ychebp"><div class="legend-marker activity svelte-1ychebp"></div> <span>Activities & Attractions</span></div></div></div> <div class="info-section svelte-1ychebp"><h2 class="section-title svelte-1ychebp">🎯 Things to Do</h2> <div class="activities-grid svelte-1ychebp"></div></div></div> <!>',1),pa=d('<div class="place-container svelte-1ychebp"><!></div>');function $a(M,J){Ve(J,!1);const[ge,ye]=Ge(),ce=()=>He(We,"$page",ge),ve=F();let s=F(null),A=null,g=null,Q=F(!0),U=F(null);Ie(async()=>{await ke(),e(s)&&await xe()});async function ke(){try{const c=await fetch(`${Fe}/db/places/${e(ve)}.json`);if(!c.ok)throw new Error("Place not found");R(s,await c.json()),R(Q,!1)}catch(c){R(U,c.message),R(Q,!1)}}async function xe(){if(!e(s))return;g=(await Ee(()=>import("../chunks/r9KgTLRM.js").then(_=>_.l),[],import.meta.url)).default;const b=document.createElement("link");b.rel="stylesheet",b.href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css",document.head.appendChild(b),setTimeout($e,100)}function $e(){if(!g||!e(s))return;A=g.map("place-map").setView(e(s).coordinates,12),g.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"© OpenStreetMap contributors"}).addTo(A);const c=g.marker(e(s).coordinates,{icon:g.divIcon({className:"main-place-marker",html:`<div style="background: #e74c3c; width: 24px; height: 24px; border-radius: 50%; border: 3px solid white; box-shadow: 0 2px 5px rgba(0,0,0,0.3); display: flex; align-items: center; justify-content: center; font-size: 14px;">${e(s).icon}</div>`,iconSize:[24,24],iconAnchor:[12,12]})}).addTo(A);c.bindPopup(`<strong>${e(s).name}</strong><br>${e(s).description}`),e(s).thingsToDo.forEach((_,X)=>{_.coordinates&&g.marker(_.coordinates,{icon:g.divIcon({className:"activity-marker",html:`<div style="background: #3498db; width: 28px; height: 28px; border-radius: 50%; border: 3px solid white; box-shadow: 0 3px 8px rgba(0,0,0,0.4); display: flex; align-items: center; justify-content: center; color: white; font-size: 12px; font-weight: bold;">${X+1}</div>`,iconSize:[28,28],iconAnchor:[14,14]})}).addTo(A).bindPopup(`
					<strong>${_.name}</strong><br>
					${_.description}<br>
					<em>Cost: ${_.cost} | Duration: ${_.duration}</em>
				`)});const b=new g.featureGroup;b.addLayer(c),e(s).thingsToDo.forEach(_=>{_.coordinates&&b.addLayer(g.marker(_.coordinates))}),b.getLayers().length>1&&A.fitBounds(b.getBounds().pad(.1))}Oe(()=>ce(),()=>{R(ve,ce().params.id)}),Ce(),Ae();var W=pa();Be(c=>{x(()=>Je.title=`${e(s),r(()=>e(s)?e(s).name:"Loading...")??""} - Japan Holiday 2025`)});var Te=t(W);{var we=c=>{var b=Xe();l(c,b)},Me=c=>{var b=me(),_=le(b);{var X=P=>{var S=Ye(),N=t(S),Y=t(N);a(N),Ne(2),a(S),x(()=>p(Y,`Error: ${e(U)??""}`)),l(P,S)},de=P=>{var S=me(),N=le(S);{var Y=Z=>{var pe=da(),ee=le(pe),he=t(ee),be=o(t(he),2),ae=t(be),se=t(ae),Le=t(se,!0);a(se);var Pe=o(se);a(ae);var _e=o(ae,2),Se=t(_e,!0);a(_e),a(be),a(he),a(ee);var te=o(ee,2),ue=o(t(te),2),fe=o(t(ue),2);z(fe,5,()=>(e(s),r(()=>e(s).thingsToDo)),E,(I,i,B)=>{var D=ta(),j=t(D),V=t(j),G=t(V);G.textContent=B+1;var re=o(G);a(V);var u=o(V,2),n=t(u),f=t(n);a(n);var y=o(n,2),v=t(y);a(y),a(u),a(j);var h=o(j,2),$=t(h,!0);a(h);var H=o(h,2);{var q=m=>{var k=ea(),O=o(t(k),2);z(O,5,()=>(e(i),r(()=>e(i).bestPhotoSpots)),E,(ne,T)=>{var L=Ze(),C=t(L),ze=t(C);a(C),a(L),x(()=>{K(C,"href",(e(T),r(()=>e(T).link))),p(ze,`${e(T),r(()=>e(T).name)??""} ↗`)}),l(ne,L)}),a(O),a(k),l(m,k)};w(H,m=>{e(i),r(()=>e(i).bestPhotoSpots?.length>0)&&m(q)})}var oe=o(H,2);{var ie=m=>{var k=sa(),O=o(t(k),2);z(O,5,()=>(e(i),r(()=>e(i).resources)),E,(ne,T)=>{var L=aa(),C=t(L);a(L),x(()=>{K(L,"href",(e(T),r(()=>e(T).link))),p(C,`${e(T),r(()=>e(T).name)??""} ↗`)}),l(ne,L)}),a(O),a(k),l(m,k)};w(oe,m=>{e(i),r(()=>e(i).resources?.length>0)&&m(ie)})}a(D),x(()=>{p(re,` ${e(i),r(()=>e(i).name)??""}`),p(f,`💰 ${e(i),r(()=>e(i).cost)??""}`),p(v,`⏳ ${e(i),r(()=>e(i).duration)??""}`),p($,(e(i),r(()=>e(i).description)))}),l(I,D)}),a(fe),a(ue),a(te);var De=o(te,2);{var je=I=>{var i=va(),B=t(i),D=o(t(B),2);z(D,5,()=>(e(s),r(()=>e(s).transportation)),E,(u,n)=>{var f=ra(),y=t(f),v=t(y,!0);a(y);var h=o(y),$=o(h);a(f),x(()=>{p(v,(e(n),r(()=>e(n).name))),p(h,`: ${e(n),r(()=>e(n).description)??""} `),K($,"href",(e(n),r(()=>e(n).link)))}),l(u,f)}),a(D),a(B);var j=o(B,2);{var V=u=>{var n=na(),f=o(t(n),2);z(f,5,()=>(e(s),r(()=>e(s).bestTimeToVisit)),E,(y,v)=>{var h=ia(),$=t(h),H=t($);a($);var q=o($),oe=o(q);{var ie=m=>{var k=oa();x(()=>K(k,"href",(e(v),r(()=>e(v).link)))),l(m,k)};w(oe,m=>{e(v),r(()=>e(v).link)&&m(ie)})}a(h),x(()=>{p(H,`${e(v),r(()=>e(v).season)??""} (${e(v),r(()=>e(v).months)??""})`),p(q,`: ${e(v),r(()=>e(v).description)??""} `)}),l(y,h)}),a(f),a(n),l(u,n)};w(j,u=>{e(s),r(()=>e(s).bestTimeToVisit?.length>0)&&u(V)})}var G=o(j,2);{var re=u=>{var n=ca(),f=o(t(n),2);z(f,5,()=>(e(s),r(()=>e(s).safetyTips)),E,(y,v)=>{var h=la(),$=t(h,!0);a(h),x(()=>p($,e(v))),l(y,h)}),a(f),a(n),l(u,n)};w(G,u=>{e(s),r(()=>e(s).safetyTips?.length>0)&&u(re)})}a(i),l(I,i)};w(De,I=>{e(s),r(()=>e(s).transportation?.length>0)&&I(je)})}x(()=>{p(Le,(e(s),r(()=>e(s).icon))),p(Pe,` ${e(s),r(()=>e(s).name)??""}`),p(Se,(e(s),r(()=>e(s).description)))}),l(Z,pe)};w(N,Z=>{e(s)&&Z(Y)},!0)}l(P,S)};w(_,P=>{e(U)?P(X):P(de,!1)},!0)}l(c,b)};w(Te,c=>{e(Q)?c(we):c(Me,!1)})}a(W),l(M,W),Re(),ye()}export{$a as component,xa as universal};
