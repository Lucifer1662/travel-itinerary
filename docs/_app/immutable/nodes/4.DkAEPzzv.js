import{i as w,_ as Ie}from"../chunks/Qb8fxXOF.js";import"../chunks/DsnmJJEf.js";import{i as Be}from"../chunks/Du94JHiY.js";import{o as Ve,h as Oe,s as p}from"../chunks/Dzox3zOy.js";import{a7 as Ce,ah as Re,ai as Je,a8 as d,a as l,aa as Ne,a9 as x,g as e,m as Q,b as G,u as r,ae as Ge,ab as t,ac as a,c as ye,f as le,ad as o}from"../chunks/QwHnji2K.js";import{s as z,e as E,i as A}from"../chunks/BcP3FYvT.js";import{s as He,a as qe}from"../chunks/D_7eiSL7.js";import{s as Fe}from"../chunks/DZV4hd_u.js";import{b as ce}from"../chunks/T_ak4laG.js";const Ke=!0;async function Qe(){return["tokyo","fuji","hakone","kyoto","nara","osaka","hiroshima","kanazawa"].map(H=>({id:H}))}const xa=Object.freeze(Object.defineProperty({__proto__:null,entries:Qe,prerender:Ke},Symbol.toStringTag,{value:"Module"})),Ue=()=>{const M=Fe;return{page:{subscribe:M.page.subscribe},navigating:{subscribe:M.navigating.subscribe},updated:M.updated}},We={subscribe(M){return Ue().page.subscribe(M)}};var Xe=d('<div class="loading svelte-1ychebp"><h2>Loading place information...</h2></div>'),Ye=d('<div class="error svelte-1ychebp"><h2> </h2> <a class="back-link svelte-1ychebp">← Return to main page</a></div>'),Ze=d('<li class="svelte-1ychebp"><a target="_blank" rel="noopener noreferrer" class="svelte-1ychebp"> </a></li>'),ea=d('<div class="photo-spots svelte-1ychebp"><h4 class="svelte-1ychebp">📸 Best Photo Spots:</h4> <ul class="svelte-1ychebp"></ul></div>'),aa=d('<a target="_blank" rel="noopener noreferrer" class="resource-link svelte-1ychebp"> </a>'),sa=d('<div class="resources svelte-1ychebp"><h4 class="svelte-1ychebp">🔗 Resources:</h4> <div class="resource-links svelte-1ychebp"></div></div>'),ta=d('<div class="activity-card svelte-1ychebp"><div class="activity-header svelte-1ychebp"><h3 class="svelte-1ychebp"><span class="activity-number svelte-1ychebp"></span> </h3> <div class="activity-meta svelte-1ychebp"><span class="cost"> </span> <span class="duration"> </span></div></div> <p class="activity-description svelte-1ychebp"> </p> <!> <!></div>'),ra=d('<li class="svelte-1ychebp"><strong> </strong> <a target="_blank" rel="noopener noreferrer" class="svelte-1ychebp">Learn more ↗</a></li>'),oa=d('<a target="_blank" rel="noopener noreferrer" class="svelte-1ychebp">More info ↗</a>'),ia=d('<li class="svelte-1ychebp"><strong> </strong> <!></li>'),na=d('<div class="info-card svelte-1ychebp"><h3 class="svelte-1ychebp">📅 Best Time to Visit</h3> <ul class="svelte-1ychebp"></ul></div>'),la=d('<li class="svelte-1ychebp"> </li>'),ca=d('<div class="info-card svelte-1ychebp"><h3 class="svelte-1ychebp">⚠️ Safety Tips</h3> <ul class="svelte-1ychebp"></ul></div>'),va=d('<div class="additional-info svelte-1ychebp"><div class="info-card svelte-1ychebp"><h3 class="svelte-1ychebp">🚇 Transportation</h3> <ul class="svelte-1ychebp"></ul></div> <!> <!></div>'),da=d('<header class="place-header svelte-1ychebp"><div class="header-content"><a class="back-link svelte-1ychebp">← Back to Journey</a> <div class="place-title svelte-1ychebp"><h1 class="svelte-1ychebp"><span class="place-icon svelte-1ychebp"> </span> </h1> <p class="place-description svelte-1ychebp"> </p></div></div></header> <div class="place-content svelte-1ychebp"><div class="map-section svelte-1ychebp"><h2 class="section-title svelte-1ychebp">📍 Location & Activities</h2> <div id="place-map"></div> <div class="map-legend svelte-1ychebp"><div class="legend-item svelte-1ychebp"><div class="legend-marker main svelte-1ychebp"></div> <span>Main Location</span></div> <div class="legend-item svelte-1ychebp"><div class="legend-marker activity svelte-1ychebp"></div> <span>Activities & Attractions</span></div></div></div> <div class="info-section svelte-1ychebp"><h2 class="section-title svelte-1ychebp">🎯 Things to Do</h2> <div class="activities-grid svelte-1ychebp"></div></div></div> <!>',1),pa=d('<div class="place-container svelte-1ychebp"><!></div>');function $a(M,H){Ce(H,!1);const[ke,xe]=He(),ve=()=>qe(We,"$page",ke),de=Q();let s=Q(null),I=null,g=null,U=Q(!0),W=Q(null);Ve(async()=>{await $e(),e(s)&&await Te()});async function $e(){try{const c=await fetch(`${ce}/db/places/${e(de)}.json`);if(!c.ok)throw new Error("Place not found");G(s,await c.json()),G(U,!1)}catch(c){G(W,c.message),G(U,!1)}}async function Te(){if(!e(s))return;g=(await Ie(()=>import("../chunks/r9KgTLRM.js").then(_=>_.l),[],import.meta.url)).default;const b=document.createElement("link");b.rel="stylesheet",b.href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css",document.head.appendChild(b),setTimeout(we,100)}function we(){if(!g||!e(s))return;I=g.map("place-map").setView(e(s).coordinates,12),g.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"© OpenStreetMap contributors"}).addTo(I);const c=g.marker(e(s).coordinates,{icon:g.divIcon({className:"main-place-marker",html:`<div style="background: #e74c3c; width: 24px; height: 24px; border-radius: 50%; border: 3px solid white; box-shadow: 0 2px 5px rgba(0,0,0,0.3); display: flex; align-items: center; justify-content: center; font-size: 14px;">${e(s).icon}</div>`,iconSize:[24,24],iconAnchor:[12,12]})}).addTo(I);c.bindPopup(`<strong>${e(s).name}</strong><br>${e(s).description}`),e(s).thingsToDo.forEach((_,Y)=>{_.coordinates&&g.marker(_.coordinates,{icon:g.divIcon({className:"activity-marker",html:`<div style="background: #3498db; width: 28px; height: 28px; border-radius: 50%; border: 3px solid white; box-shadow: 0 3px 8px rgba(0,0,0,0.4); display: flex; align-items: center; justify-content: center; color: white; font-size: 12px; font-weight: bold;">${Y+1}</div>`,iconSize:[28,28],iconAnchor:[14,14]})}).addTo(I).bindPopup(`
					<strong>${_.name}</strong><br>
					${_.description}<br>
					<em>Cost: ${_.cost} | Duration: ${_.duration}</em>
				`)});const b=new g.featureGroup;b.addLayer(c),e(s).thingsToDo.forEach(_=>{_.coordinates&&b.addLayer(g.marker(_.coordinates))}),b.getLayers().length>1&&I.fitBounds(b.getBounds().pad(.1))}Re(()=>ve(),()=>{G(de,ve().params.id)}),Je(),Be();var X=pa();Oe(c=>{x(()=>Ge.title=`${e(s),r(()=>e(s)?e(s).name:"Loading...")??""} - Japan Holiday 2025`)});var Me=t(X);{var Le=c=>{var b=Xe();l(c,b)},Pe=c=>{var b=ye(),_=le(b);{var Y=P=>{var S=Ye(),B=t(S),Z=t(B);a(B);var V=o(B,2);a(S),x(()=>{p(Z,`Error: ${e(W)??""}`),z(V,"href",`${ce??""}/`)}),l(P,S)},pe=P=>{var S=ye(),B=le(S);{var Z=V=>{var he=da(),ee=le(he),be=t(ee),_e=t(be),ue=o(_e,2),ae=t(ue),se=t(ae),Se=t(se,!0);a(se);var De=o(se);a(ae);var fe=o(ae,2),je=t(fe,!0);a(fe),a(ue),a(be),a(ee);var te=o(ee,2),me=o(t(te),2),ge=o(t(me),2);E(ge,5,()=>(e(s),r(()=>e(s).thingsToDo)),A,(O,i,C)=>{var D=ta(),j=t(D),R=t(j),q=t(R);q.textContent=C+1;var re=o(q);a(R);var u=o(R,2),n=t(u),f=t(n);a(n);var y=o(n,2),v=t(y);a(y),a(u),a(j);var h=o(j,2),$=t(h,!0);a(h);var F=o(h,2);{var K=m=>{var k=ea(),J=o(t(k),2);E(J,5,()=>(e(i),r(()=>e(i).bestPhotoSpots)),A,(ne,T)=>{var L=Ze(),N=t(L),Ae=t(N);a(N),a(L),x(()=>{z(N,"href",(e(T),r(()=>e(T).link))),p(Ae,`${e(T),r(()=>e(T).name)??""} ↗`)}),l(ne,L)}),a(J),a(k),l(m,k)};w(F,m=>{e(i),r(()=>e(i).bestPhotoSpots?.length>0)&&m(K)})}var oe=o(F,2);{var ie=m=>{var k=sa(),J=o(t(k),2);E(J,5,()=>(e(i),r(()=>e(i).resources)),A,(ne,T)=>{var L=aa(),N=t(L);a(L),x(()=>{z(L,"href",(e(T),r(()=>e(T).link))),p(N,`${e(T),r(()=>e(T).name)??""} ↗`)}),l(ne,L)}),a(J),a(k),l(m,k)};w(oe,m=>{e(i),r(()=>e(i).resources?.length>0)&&m(ie)})}a(D),x(()=>{p(re,` ${e(i),r(()=>e(i).name)??""}`),p(f,`💰 ${e(i),r(()=>e(i).cost)??""}`),p(v,`⏳ ${e(i),r(()=>e(i).duration)??""}`),p($,(e(i),r(()=>e(i).description)))}),l(O,D)}),a(ge),a(me),a(te);var ze=o(te,2);{var Ee=O=>{var i=va(),C=t(i),D=o(t(C),2);E(D,5,()=>(e(s),r(()=>e(s).transportation)),A,(u,n)=>{var f=ra(),y=t(f),v=t(y,!0);a(y);var h=o(y),$=o(h);a(f),x(()=>{p(v,(e(n),r(()=>e(n).name))),p(h,`: ${e(n),r(()=>e(n).description)??""} `),z($,"href",(e(n),r(()=>e(n).link)))}),l(u,f)}),a(D),a(C);var j=o(C,2);{var R=u=>{var n=na(),f=o(t(n),2);E(f,5,()=>(e(s),r(()=>e(s).bestTimeToVisit)),A,(y,v)=>{var h=ia(),$=t(h),F=t($);a($);var K=o($),oe=o(K);{var ie=m=>{var k=oa();x(()=>z(k,"href",(e(v),r(()=>e(v).link)))),l(m,k)};w(oe,m=>{e(v),r(()=>e(v).link)&&m(ie)})}a(h),x(()=>{p(F,`${e(v),r(()=>e(v).season)??""} (${e(v),r(()=>e(v).months)??""})`),p(K,`: ${e(v),r(()=>e(v).description)??""} `)}),l(y,h)}),a(f),a(n),l(u,n)};w(j,u=>{e(s),r(()=>e(s).bestTimeToVisit?.length>0)&&u(R)})}var q=o(j,2);{var re=u=>{var n=ca(),f=o(t(n),2);E(f,5,()=>(e(s),r(()=>e(s).safetyTips)),A,(y,v)=>{var h=la(),$=t(h,!0);a(h),x(()=>p($,e(v))),l(y,h)}),a(f),a(n),l(u,n)};w(q,u=>{e(s),r(()=>e(s).safetyTips?.length>0)&&u(re)})}a(i),l(O,i)};w(ze,O=>{e(s),r(()=>e(s).transportation?.length>0)&&O(Ee)})}x(()=>{z(_e,"href",`${ce??""}/`),p(Se,(e(s),r(()=>e(s).icon))),p(De,` ${e(s),r(()=>e(s).name)??""}`),p(je,(e(s),r(()=>e(s).description)))}),l(V,he)};w(B,V=>{e(s)&&V(Z)},!0)}l(P,S)};w(_,P=>{e(W)?P(Y):P(pe,!1)},!0)}l(c,b)};w(Me,c=>{e(U)?c(Le):c(Pe,!1)})}a(X),l(M,X),Ne(),xe()}export{$a as component,xa as universal};
